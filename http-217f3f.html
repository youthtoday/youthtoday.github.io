<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

  <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;📖&lt;/text&gt;&lt;/svg&gt;">

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>HTTP&nbsp;|&nbsp;Nick的博客</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="HTTP">
  
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;📖&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="-fe1f32.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;📚&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>分类</span>
        </div>
      </a>
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;😀&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>关于我</span>
        </div>
      </a>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
</nav>
  <header class="Header">
    
    <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
    
    <h1 class="Header__Title">HTTP</h1>
    
      <div class="DateTagBar">
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--orange">
            <a href="tag/计算机网络.html">计算机网络</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/217f3f252eea4bda92c47115a1a55a25" class="PageRoot"><h1 id="https://www.notion.so/6610630a895043eca4ea98ce0506a9c7" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/6610630a895043eca4ea98ce0506a9c7"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">从输入URL到页面显示</span></span></h1><div id="https://www.notion.so/b9450c4ca3bf48bd9d2071f6f8338b85" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">总体来说，从浏览器输入URL到页面显示分为以下几个步骤：</span></span></p></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/5e7fa94d5cfc4dc592916a280d4a084d" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">浏览器查找域名对应的IP地址</span></span></li><li id="https://www.notion.so/daf789eb895f4a7b8065f44f0a63cd77" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">浏览器向IP地址发送HTTP请求</span></span></li><li id="https://www.notion.so/bc8a29f7a1e04edca84b78984f9ea68b" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">服务端处理HTTP请求</span></span></li><li id="https://www.notion.so/29c0e38223b34d4fac3f77dc162ef5f4" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString">服务端发送HTML响应</span></span></li><li id="https://www.notion.so/e4f26959b1d141e190ac19b7e5bc9fec" class="NumberedList" value="5"><span class="SemanticStringArray"><span class="SemanticString">浏览器渲染显示HTML网页</span></span></li><li id="https://www.notion.so/286bdc3089664616bc0c9896b78701aa" class="NumberedList" value="6"><span class="SemanticStringArray"><span class="SemanticString">连接结束</span></span></li></ol><div id="https://www.notion.so/2dea817747e24fa3b06c00a65daa63e5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">涉及到的协议有：</span></span></p></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/d8288ff93d5e4a7f804d31b50943c41b" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">DNS：获取域名对应的IP</span></span></li><li id="https://www.notion.so/0e4bc33c85c44ea5be4a2b7f60544b0c" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">TCP：与服务端建立TCP连接</span></span></li><li id="https://www.notion.so/8cd488348aeb4df8a9c91009fd7e2413" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">IP：建立TCP连接时，在网络层使用IP协议发送数据</span></span></li><li id="https://www.notion.so/1247f73cb59844b8ab5d6a4f478b25c7" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString">OSPF：IP数据包在路由器之间转发使用OSPF开放最短路径优先协议</span></span></li><li id="https://www.notion.so/0832d8ae519242f8a7a22708d2f340ed" class="NumberedList" value="5"><span class="SemanticStringArray"><span class="SemanticString">ARP：路由器在与服务器通信时，使用ARP协议将IP地址转换为MAC地址</span></span></li><li id="https://www.notion.so/db821d73cf694fdab1dfb6bdd5a69ac2" class="NumberedList" value="6"><span class="SemanticStringArray"><span class="SemanticString">HTTP：在TCP建立之后，使用HTTP协议访问网页</span></span></li></ol><h1 id="https://www.notion.so/fd8ec9715d474dcd9cfc22d1f47816c9" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/fd8ec9715d474dcd9cfc22d1f47816c9"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">HTTP状态码有哪些</span></span></h1><div><div></div><div></div><div></div><div></div><div></div><div></div></div><h1 id="https://www.notion.so/d097f934ff114c4ca1062ef835d0553a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/d097f934ff114c4ca1062ef835d0553a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">HTTP协议</span></span></h1><h2 id="https://www.notion.so/f343444eca13406fa072f588e5692632" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/f343444eca13406fa072f588e5692632"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">HTTP协议介绍</span></span></h2><div id="https://www.notion.so/1705b64a8784477696ac9306b8a89e77" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">HTTP超文本传输协议（Hypertext Transfer Protocol）。HTTP协议就是用来规范超文本的传输，超文本也就是网络上的包括文本在内的各式各样的消息，具体来说，主要是规范浏览器和服务器端的行为的。</span></span></p></div><div id="https://www.notion.so/4835046574544fb5b019ca83c008823a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">HTTP是一个无状态协议，也就是说服务器不维护任何有关客户端过去所发请求的信息。有状态协议会更加复杂，需要维护状态（历史信息），而且如果客户端或者服务器失效，会产生状态的不一致，解决这种不一致的代价更高。</span></span></p></div><div id="https://www.notion.so/d373bb3bf83648b69af437afa7a7defb" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">优点：拓展性强、速度快、跨平台支持性好</span></span></p></div><h2 id="https://www.notion.so/dca5ef0d6f2f45af8789ed7767d9ed47" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/dca5ef0d6f2f45af8789ed7767d9ed47"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">HTTP协议通信过程</span></span></h2><ol class="NumberedListWrapper"><li id="https://www.notion.so/3d50c59019734029aedaa36eae7cfb0a" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">服务器在80端口等待客户的请求</span></span></li><li id="https://www.notion.so/dc15c445863c409d9704c8b375ec8529" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">浏览器发起到服务器的TCP连接（创建socket）</span></span></li><li id="https://www.notion.so/4c237e8392cd46ccbb378b0497b06ee8" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">服务器接收来自浏览器的TCP连接</span></span></li><li id="https://www.notion.so/ac3a0208e6a7446b9fc52da134513c8e" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString">浏览器（HTTP客户端）与Web服务器（HTTP服务端）交换HTTP消息</span></span></li><li id="https://www.notion.so/a996650e72e94b7eb00ac26d54efeadb" class="NumberedList" value="5"><span class="SemanticStringArray"><span class="SemanticString">关闭TCP连接</span></span></li></ol><h1 id="https://www.notion.so/7d3ce9ddf5f34ab2927eaca899f7a6f0" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/7d3ce9ddf5f34ab2927eaca899f7a6f0"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">HTTPS协议</span></span></h1><h2 id="https://www.notion.so/844bff0c250f4300b3999b13bd979de1" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/844bff0c250f4300b3999b13bd979de1"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">HTTPS协议简介</span></span></h2><div id="https://www.notion.so/ac38e4ca1eb44c10b896551fd82c499a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">HTTPS协议HyperText Transfer Protocol Secure是HTTP的加强安全版本。HTTPS是基于HTTP的，也是利用TCP作为底层协议，并额外使用SSL/TLS协议作为加密和安全认证。默认端口号是443。</span></span></p></div><div id="https://www.notion.so/85e815c87f494aa38acf27f42850f18a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">HTTPS 协议中，SSL 通道通常使用基于密钥的加密算法，密钥长度通常是 40 比特或 128 比特。</span></span></p></div><div id="https://www.notion.so/a5e1b599d53c493fa405b554b6b78d50" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">优点：保密性好、信任度高</span></span></p></div><h2 id="https://www.notion.so/1fb7ecb44bc44bda95138f50a86239a4" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/1fb7ecb44bc44bda95138f50a86239a4"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">SSL/TLS协议</span></span></h2><div id="https://www.notion.so/78c0e71ccb7443769bfb255efb933d2a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">HTTPS 之所以能达到较高的安全性要求，就是结合了 SSL/TLS 和 TCP 协议，对通信数据进行加密，解决了 HTTP 数据透明的问题。</span></span></p></div><h3 id="https://www.notion.so/0a9eadcbd47a4bbc87d45c39ad7e7c3c" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/0a9eadcbd47a4bbc87d45c39ad7e7c3c"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">SSL和TLS的区别</span></span></h3><div id="https://www.notion.so/85e9dae09fca47e5a628cc8c8799226a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">SSL和TLS没有太大的区别。SSL安全套接字协议Secure Socket Layer，首发于1996年，实际上已经是SSL3.0。1999年，SSL3.0进一步升级，被称为TLS1.0。因此，TLS是基于SSL的，但由于习惯叫法，通常把HTTPS中核心加密协议称为SSL/TLS协议。</span></span></p></div><h3 id="https://www.notion.so/c26416515651495291e760c3d46e9ed1" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/c26416515651495291e760c3d46e9ed1"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">SSL/TLS工作原理</span></span></h3><div id="https://www.notion.so/1c595d868333491abc80efa7cd9bffd5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">非对称加密</strong></span></span></p></div><div id="https://www.notion.so/3f79febdcc174368a431de9205f39f53" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">SSL/TLS的核心要素是</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">非对称加密</strong></span><span class="SemanticString">。非对称加密采用两个密钥——公钥和私钥。公钥是用来加密的，私钥是用来解密的。在通信时，私钥仅又解密者保存，公钥由任何想要与解密者通信的发送者所知。</span></span></p></div><div id="https://www.notion.so/28f31322da454a0887ca6084b477efbf" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F30826961-ddd4-4b5e-9bd4-35d1a0a15b22%2FUntitled.png?width=874&amp;table=block&amp;id=28f31322-da45-4a08-87ca-6084b477efbf"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F30826961-ddd4-4b5e-9bd4-35d1a0a15b22%2FUntitled.png?width=874&amp;table=block&amp;id=28f31322-da45-4a08-87ca-6084b477efbf" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/1fd9718a3f92472b9b4aae7a9678222d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">非对称加密的公钥和私钥需要采用一种复杂的数学机制生成（密码学认为，为了较高的安全性，尽量不要自己创造加密方案）。公私钥对的生成算法依赖于单向陷门函数。</span></span></p></div><div id="https://www.notion.so/b0315db457964e478817000ca0ee6c57" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">单向函数：已知单向函数 f，给定任意一个输入 x，易计算输出 y=f(x)；而给定一个输出 y，假设存在 f(x)=y，很难根据 f 来计算出 x。</span></span></p></div><div id="https://www.notion.so/58fe0e852c0d4720a301aa463f473582" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">单向陷门函数：一个较弱的单向函数。已知单向陷门函数 f，陷门 h，给定任意一个输入 x，易计算出输出 y=f(x;h)；而给定一个输出 y，假设存在 f(x;h)=y，很难根据 f 来计算出 x，但可以根据 f 和 h 来推导出 x。</span></span></p></div><div id="https://www.notion.so/5194bf136aae477988522e4daffe584e" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F255fe9c5-7b4d-4ac8-af62-3d5848ee26ab%2FUntitled.png?width=1094&amp;table=block&amp;id=5194bf13-6aae-4779-8852-2e4daffe584e"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F255fe9c5-7b4d-4ac8-af62-3d5848ee26ab%2FUntitled.png?width=1094&amp;table=block&amp;id=5194bf13-6aae-4779-8852-2e4daffe584e" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/0cfb330b82404e4087108625293cdffc" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">上图就是一个单向函数（不是单项陷门函数），假设有一个绝世秘籍，任何知道了这个秘籍的人都可以把苹果汁还原成苹果，那么这个秘籍就是“陷门”。</span></span></p></div><div id="https://www.notion.so/8d6a89fd8a424de092c7823ce66bf6f9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在这里，函数 f 的计算方法相当于公钥，陷门 h 相当于私钥。公钥 f 是公开的，任何人对已有输入，都可以用 f 加密，而要想根据加密信息还原出原信息，必须要有私钥才行。</span></span></p></div><div id="https://www.notion.so/7ef43d5b97c34242bb2555b1f2e7db45" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">对称加密</strong></span></span></p></div><div id="https://www.notion.so/085be18f74514328a0721a593dd88a89" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">使用 SSL/TLS 进行通信的双方需要使用非对称加密方案来通信，但是非对称加密设计了较为复杂的数学算法，在实际通信过程中，计算的代价较高，效率太低，因此，SSL/TLS 实际对</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">消息</strong></span><span class="SemanticString">的加密使用的是</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">对称加密</strong></span><span class="SemanticString">。</span></span></p></div><div id="https://www.notion.so/83effef4dbda4f06be7122b3f7661b5d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">对称加密：通信双方共享唯一密钥 k，加解密算法已知，加密方利用密钥 k 加密，解密方利用密钥 k 解密，保密性依赖于密钥 k 的保密性。</span></span></p></div><div id="https://www.notion.so/93774a49bd3d4ee2920a279f9f95f4a2" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F1295e7bc-bfdd-44e2-9fcf-688158eba734%2FUntitled.png?width=1129&amp;table=block&amp;id=93774a49-bd3d-4ee2-920a-279f9f95f4a2"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F1295e7bc-bfdd-44e2-9fcf-688158eba734%2FUntitled.png?width=1129&amp;table=block&amp;id=93774a49-bd3d-4ee2-920a-279f9f95f4a2" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/b7d0eec21fde4b05adf4f596218b9cdb" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">网络通信的信道是不安全的，传输报文对任何人是可见的，密钥的交换肯定不能直接在网络信道中传输。因此，</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">使用非对称加密，对对称加密的密钥进行加密</strong></span><span class="SemanticString">，保护该对称密钥不在网络信道中被窃听。这样，通信双方只需要一次非对称加密，交换对称加密的密钥，在之后的信息通信中，使用绝对安全的密钥，对信息进行对称加密，即可保证传输消息的保密性。</span></span></p></div><h3 id="https://www.notion.so/ff0593e6904b4ba99a046dc0eff3b450" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/ff0593e6904b4ba99a046dc0eff3b450"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">公钥传输的依赖性</span></span></h3><div id="https://www.notion.so/de932f086fae4afd84c7ee7fb7ead94f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">信任问题：攻击者Attacker给Client发送一个诈包，伪装成Server Public Key，实际上是Attacker Public Key。当Client收到Attacker Public Key，会以为这是Server Public Key，用它对信息加密并发送给Server。Attacker在网络中捕获信息密文，并使用Attacker Seceret Key就能解密获取信息。而Server并不能知道消息。</span></span></p></div><div id="https://www.notion.so/9f6841b8655b4f6f9c69707490c87d92" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F30194c8f-be08-4247-8194-1e499ecd6dd4%2FUntitled.png?width=1750&amp;table=block&amp;id=9f6841b8-655b-4f6f-9c69-707490c87d92"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F30194c8f-be08-4247-8194-1e499ecd6dd4%2FUntitled.png?width=1750&amp;table=block&amp;id=9f6841b8-655b-4f6f-9c69-707490c87d92" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/1f72c20beded47589f8fc03e88e0b498" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">为了公钥传输的信赖性问题，第三方机构应运而生——证书颁发机构（CA，Certificate Authority）。CA 默认是受信任的第三方。CA 会给各个服务器颁发证书，证书存储在服务器上，并附有 CA 的</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">电子签名</strong></span><span class="SemanticString">（见下节）。</span></span></p></div><div id="https://www.notion.so/1f15f81ec5c04026a52ca625f27cdb2c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">当客户端（浏览器）向服务器发送 HTTPS 请求时，一定要先获取目标服务器的证书，并根据证书上的信息，检验证书的合法性。一旦客户端检测到证书非法，就会发生错误。客户端获取了服务器的证书后，由于证书的信任性是由第三方信赖机构认证的，而证书上又包含着服务器的公钥信息，客户端就可以放心的信任证书上的公钥就是目标服务器的公钥。</span></span></p></div><h3 id="https://www.notion.so/f85b04f5fcf54631a8022267d43eb854" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/f85b04f5fcf54631a8022267d43eb854"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">数字签名</span></span></h3><div id="https://www.notion.so/0be9a046abe548709f14dcb0b1702f13" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">数字签名要解决的问题，是防止证书被伪造。第三方信赖机构 CA 之所以能被信赖，就是 </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">靠数字签名技术</strong></span><span class="SemanticString">。</span></span></p></div><div id="https://www.notion.so/c6a0a851ccf146218dc8170d816b3803" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F160f0da4-0434-41a2-af5f-9fc5ff4d4309%2FUntitled.png?width=1640&amp;table=block&amp;id=c6a0a851-ccf1-4621-8dc8-170d816b3803"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F160f0da4-0434-41a2-af5f-9fc5ff4d4309%2FUntitled.png?width=1640&amp;table=block&amp;id=c6a0a851-ccf1-4621-8dc8-170d816b3803" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h1 id="https://www.notion.so/b3704ad726784abcb410ab31b5e03ae4" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/b3704ad726784abcb410ab31b5e03ae4"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">HTTP和HTTPS的区别</span></span></h1><ul class="BulletedListWrapper"><li id="https://www.notion.so/d4010f4539834fb8ac20f96e7c84ca32" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">端口号</strong></span><span class="SemanticString"> ：HTTP 默认是 80，HTTPS 默认是 443。</span></span></li><li id="https://www.notion.so/067ab159107c428a8b82386eb2c08700" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">URL 前缀</strong></span><span class="SemanticString"> ：HTTP 的 URL 前缀是 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">http://</code></span><span class="SemanticString">，HTTPS 的 URL 前缀是 </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">https://</code></span><span class="SemanticString">。</span></span></li><li id="https://www.notion.so/fa35f4dd73464c3e9df5e0b7dbde8628" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">安全性和资源消耗</strong></span><span class="SemanticString"> ： HTTP 协议运行在 TCP 之上，所有传输的内容都是明文，客户端和服务器端都无法验证对方的身份。HTTPS 是运行在 SSL/TLS 之上的 HTTP 协议，SSL/TLS 运行在 TCP 之上。所有传输的内容都经过加密，加密采用对称加密，但对称加密的密钥用服务器方的证书进行了非对称加密。所以说，HTTP 安全性没有 HTTPS 高，但是 HTTPS 比 HTTP 耗费更多服务器资源。</span></span></li></ul><h1 id="https://www.notion.so/83547d85172e45269573748952002cfd" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/83547d85172e45269573748952002cfd"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">HTTP1.0和HTTP1.1</span></span></h1><h2 id="https://www.notion.so/dcf0bdbb9468463e96369f325c3b340d" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/dcf0bdbb9468463e96369f325c3b340d"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">响应状态码</span></span></h2><div id="https://www.notion.so/9094860553be45f0b8e52d9770243ad9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">HTTP/1.0仅定义了16种状态码。HTTP/1.1中新加入了大量的状态码，光是错误响应状态码就新增了24种。比如说，</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">100 (Continue)</code></span><span class="SemanticString">——在请求大资源前的预热请求，</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">206 (Partial Content)</code></span><span class="SemanticString">——范围请求的标识码，</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">409 (Conflict)</code></span><span class="SemanticString">——请求与当前资源的规定冲突，</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">410 (Gone)</code></span><span class="SemanticString">——资源已被永久转移，而且没有任何已知的转发地址。</span></span></p></div><h2 id="https://www.notion.so/c14ba2740eb547ae88886fd2b9d9f4eb" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/c14ba2740eb547ae88886fd2b9d9f4eb"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">缓存处理</span></span></h2><div id="https://www.notion.so/43df06d18e564dd4839185bc0f5a7f91" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">HTTP/1.0提供的缓存机制非常简单。服务器端使用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Expires</code></span><span class="SemanticString">标签来标志（时间）一个响应体，在</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Expires</code></span><span class="SemanticString">标志时间内的请求，都会获得该响应体缓存。服务器端在初次返回给客户端的响应体中，有一个</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Last-Modified</code></span><span class="SemanticString">标签，该标签标记了被请求资源在服务器端的最后一次修改。在请求头中，使用</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">If-Modified-Since</code></span><span class="SemanticString">标签，该标签标志一个时间，意为客户端向服务器进行问询：“该时间之后，我要请求的资源是否有被修改过？”通常情况下，请求头中的</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">If-Modified-Since</code></span><span class="SemanticString">的值即为上一次获得该资源时，响应体中的</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Last-Modified</code></span><span class="SemanticString">的值。</span></span></p></div><div id="https://www.notion.so/6c3ff2a923314ddf84908ac2fa08eba9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">如果服务器接收到了请求头，并判断</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">If-Modified-Since</code></span><span class="SemanticString">时间后，资源确实没有修改过，则返回给客户端一个</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">304 not modified</code></span><span class="SemanticString">响应头，表示”缓冲可用，你从浏览器里拿吧！”。</span></span></p></div><div id="https://www.notion.so/d952f934aa634bbca9717a43ba19d39b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">如果服务器判断</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">If-Modified-Since</code></span><span class="SemanticString">时间后，资源被修改过，则返回给客户端一个</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">200 OK</code></span><span class="SemanticString">的响应体，并附带全新的资源内容，表示”你要的我已经改过的，给你一份新的”。</span></span></p></div><div id="https://www.notion.so/15971fc4bedf44e9a2690ea9f2f3509e" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F72d84193-5307-4d10-96ad-54e5ff051cf0%2FUntitled.png?width=448&amp;table=block&amp;id=15971fc4-bedf-44e9-a269-0ea9f2f3509e"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F72d84193-5307-4d10-96ad-54e5ff051cf0%2FUntitled.png?width=448&amp;table=block&amp;id=15971fc4-bedf-44e9-a269-0ea9f2f3509e" style="width:448px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/b56de582e4e142e5b481ce54546af696" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">HTTP/1.1的缓存机制在HTTP/1.0的基础上，大大增加了灵活性和扩展性。基本工作原理和HTTP/1.0保持不变，而是增加了更多细致的特性。其中，请求头中最常见的特性就是</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Cache-Control</code></span><span class="SemanticString">，详见MDN Web文档 </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Cache-Control">Cache-Control</a></span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Cache-Control">open in new window</a></span><span class="SemanticString">.</span></span></p></div><h2 id="https://www.notion.so/78908b568beb42d7b1c9b2fb4bb81f0e" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/78908b568beb42d7b1c9b2fb4bb81f0e"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">连接方式</span></span></h2><div id="https://www.notion.so/0136fd489cda42fe96edb86b79b90411" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">HTTP/1.0 默认使用短连接</strong></span><span class="SemanticString"> ，也就是说，客户端和服务器每进行一次 HTTP 操作，就建立一次连接，任务结束就中断连接。当客户端浏览器访问的某个 HTML 或其他类型的 Web 页中包含有其他的 Web 资源（如 JavaScript 文件、图像文件、CSS 文件等），每遇到这样一个 Web 资源，浏览器就会重新建立一个TCP连接，这样就会导致有大量的“握手报文”和“挥手报文”占用了带宽。</span></span></p></div><div id="https://www.notion.so/3b0445e8c0a64b87a2b7b39c2946e668" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">为了解决 HTTP/1.0 存在的资源浪费的问题， HTTP/1.1 优化为默认长连接模式 。</strong></span><span class="SemanticString"> 采用长连接模式的请求报文会通知服务端：“我向你请求连接，并且连接成功建立后，请不要关闭”。因此，该TCP连接将持续打开，为后续的客户端-服务端的数据交互服务。也就是说在使用长连接的情况下，当一个网页打开完成后，客户端和服务器之间用于传输 HTTP 数据的 TCP 连接不会关闭，客户端再次访问这个服务器时，会继续使用这一条已经建立的连接。</span></span></p></div><div id="https://www.notion.so/3d2e2ff0df434e99b6acf5f9a9493e61" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">如果 TCP 连接一直保持的话也是对资源的浪费，因此，一些服务器软件（如 Apache）还会支持超时时间的时间。在超时时间之内没有新的请求达到，TCP 连接才会被关闭。</span></span></p></div><div id="https://www.notion.so/f67881a98edf4558a0914769996f24b3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">有必要说明的是，HTTP/1.0仍提供了长连接选项，即在请求头中加入</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Connection: Keep-alive</code></span><span class="SemanticString">。同样的，在HTTP/1.1中，如果不希望使用长连接选项，也可以在请求头中加入</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Connection: close</code></span><span class="SemanticString">，这样会通知服务器端：“我不需要长连接，连接成功后即可关闭”。</span></span></p></div><div id="https://www.notion.so/e7809adab6f14968b69cf89868a4c740" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">HTTP 协议的长连接和短连接，实质上是 TCP 协议的长连接和短连接。</strong></span></span></p></div><div id="https://www.notion.so/2fcf797611ce426d9bf8bee6a1bd7b67" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">实现长连接需要客户端和服务端都支持长连接。</strong></span></span></p></div><h2 id="https://www.notion.so/646d2738e25f4372828a8d8712c6cd55" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/646d2738e25f4372828a8d8712c6cd55"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Host头处理</span></span></h2><div id="https://www.notion.so/9f894624e00a4283bd9e5e9b05027a3b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">域名系统（DNS）允许多个主机名绑定到同一个IP地址上，但是HTTP/1.0并没有考虑这个问题，假设我们有一个资源URL是http://example1.org/home.html，HTTP/1.0的请求报文中，将会请求的是</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">GET /home.html HTTP/1.0</code></span><span class="SemanticString">.也就是不会加入主机名。这样的报文送到服务器端，服务器是理解不了客户端想请求的真正网址。</span></span></p></div><div id="https://www.notion.so/a92aeb5d733b4f458ab52c9b23a67f50" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">因此，HTTP/1.1在请求头中加入了</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Host</code></span><span class="SemanticString">字段。加入</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Host</code></span><span class="SemanticString">字段的报文头部将会是:</span></span></p></div><pre id="https://www.notion.so/0a0742c69c834ad0a1dbddab239d1bdb" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>GET /home.html HTTP/1.1
Host: example1.org</span></span></span></code></pre><div id="https://www.notion.so/7b4565800e3048e19139f1a1453fe50f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">这样，服务器端就可以确定客户端想要请求的真正的网址了。</span></span></p></div><h2 id="https://www.notion.so/8be48df7fdf04c62a84bc3afc1236d4e" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/8be48df7fdf04c62a84bc3afc1236d4e"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">带宽优化</span></span></h2><h3 id="https://www.notion.so/1f129055603647d8848e69fe4d4efe0d" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/1f129055603647d8848e69fe4d4efe0d"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">范围请求</span></span></h3><div id="https://www.notion.so/83654b8b77784d89916c337e46d2f40e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">HTTP/1.1引入了范围请求（range request）机制，以避免带宽的浪费。当客户端想请求一个文件的一部分，或者需要继续下载一个已经下载了部分但被终止的文件，HTTP/1.1可以在请求中加入</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Range</code></span><span class="SemanticString">头部，以请求（并只能请求字节型数据）数据的一部分。服务器端可以忽略</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Range</code></span><span class="SemanticString">头部，也可以返回若干</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Range</code></span><span class="SemanticString">响应。</span></span></p></div><div id="https://www.notion.so/7a11451e28fe41cbbc11cf061e85fbab" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">如果一个响应包含部分数据的话，那么将带有</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">206 (Partial Content)</code></span><span class="SemanticString">状态码。该状态码的意义在于避免了HTTP/1.0代理缓存错误地把该响应认为是一个完整的数据响应，从而把他当作为一个请求的响应缓存。</span></span></p></div><div id="https://www.notion.so/bdf48d7bde824c3180770b198b453df3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在范围响应中，</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Content-Range</code></span><span class="SemanticString">头部标志指示出了该数据块的偏移量和数据块的长度。</span></span></p></div><h3 id="https://www.notion.so/b6531bdaadb1489bac28ea0471c685cb" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/b6531bdaadb1489bac28ea0471c685cb"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">状态码100</span></span></h3><div id="https://www.notion.so/e3335af2a62449c29cfdaff9e1a9af24" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">HTTP/1.1中新加入了状态码</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">100</code></span><span class="SemanticString">。该状态码的使用场景为，存在某些较大的文件请求，服务器可能不愿意响应这种请求，此时状态码</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">100</code></span><span class="SemanticString">可以作为指示请求是否会被正常响应，过程如下图：</span></span></p></div><div id="https://www.notion.so/295ce1ba92354de28a08d71c569b1f0f" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fa7d6fa7e-344d-4c1e-98b5-509e1368d7c6%2FUntitled.png?width=390&amp;table=block&amp;id=295ce1ba-9235-4de2-8a08-d71c569b1f0f"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fa7d6fa7e-344d-4c1e-98b5-509e1368d7c6%2FUntitled.png?width=390&amp;table=block&amp;id=295ce1ba-9235-4de2-8a08-d71c569b1f0f" style="width:390px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/f63885a010bf4dba82d5b55490860d73" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">然而在HTTP/1.0中，并没有</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">100 (Continue)</code></span><span class="SemanticString">状态码，要想触发这一机制，可以发送一个</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Expect</code></span><span class="SemanticString">头部，其中包含一个</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">100-continue</code></span><span class="SemanticString">的值。</span></span></p></div><h3 id="https://www.notion.so/0d613169f96b4e52ade7ae7f8f20614c" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/0d613169f96b4e52ade7ae7f8f20614c"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">压缩</span></span></h3><div id="https://www.notion.so/7a1321253d33463e9ce6eace2cc8acca" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">许多格式的数据在传输时都会做预压缩处理。数据的压缩可以大幅优化带宽的利用。然而，HTTP/1.0对数据压缩的选项提供的不多，不支持压缩细节的选择，也无法区分端到端（end-to-end）压缩或者是逐跳（hop-by-hop）压缩。</span></span></p></div><div id="https://www.notion.so/02f07ecb3b4448f8a8ebe8a844a8f823" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">HTTP/1.1则对内容编码（content-codings）和传输编码（transfer-codings）做了区分。内容编码总是端到端的，传输编码总是逐跳的。</span></span></p></div><div id="https://www.notion.so/e42546f4d5ae4295ba7e9a75fe509321" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">HTTP/1.0包含了</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Content-Encoding</code></span><span class="SemanticString">头部，对消息进行端到端编码。HTTP/1.1加入了</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Transfer-Encoding</code></span><span class="SemanticString">头部，可以对消息进行逐跳传输编码。HTTP/1.1还加入了</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Accept-Encoding</code></span><span class="SemanticString">头部，是客户端用来指示他能处理什么样的内容编码。</span></span></p></div><h1 id="https://www.notion.so/d397a98ba939491a85e05ba934d34544" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/d397a98ba939491a85e05ba934d34544"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">总结HTTP1.0和1.1区别</span></span></h1><ol class="NumberedListWrapper"><li id="https://www.notion.so/0f04ad457c82419baab7c31f2517e4a5" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">连接方式</strong></span><span class="SemanticString"> : HTTP 1.0 为短连接，HTTP 1.1 支持长连接。</span></span></li><li id="https://www.notion.so/59acc20fb60c4d8eab5c80c8da5d601a" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">状态响应码</strong></span><span class="SemanticString"> : HTTP/1.1中新加入了大量的状态码，光是错误响应状态码就新增了24种。比如说，</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">100 (Continue)</code></span><span class="SemanticString">——在请求大资源前的预热请求，</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">206 (Partial Content)</code></span><span class="SemanticString">——范围请求的标识码，</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">409 (Conflict)</code></span><span class="SemanticString">——请求与当前资源的规定冲突，</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">410 (Gone)</code></span><span class="SemanticString">——资源已被永久转移，而且没有任何已知的转发地址。</span></span></li><li id="https://www.notion.so/25e37b78187d4ebd88ef6e95f9e98ddd" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">缓存处理</strong></span><span class="SemanticString"> : 在 HTTP1.0 中主要使用 header 里的 If-Modified-Since,Expires 来做为缓存判断的标准，HTTP1.1 则引入了更多的缓存控制策略例如 Entity tag，If-Unmodified-Since, If-Match, If-None-Match 等更多可供选择的缓存头来控制缓存策略。</span></span></li><li id="https://www.notion.so/bef5fd80e59742059230d3316fb87742" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">带宽优化及网络连接的使用</strong></span><span class="SemanticString"> :HTTP1.0 中，存在一些浪费带宽的现象，例如客户端只是需要某个对象的一部分，而服务器却将整个对象送过来了，并且不支持断点续传功能，HTTP1.1 则在请求头引入了 range 头域，它允许只请求资源的某个部分，即返回码是 206（Partial Content），这样就方便了开发者自由的选择以便于充分利用带宽和连接。</span></span></li><li id="https://www.notion.so/5d5951bd9cff41168223596f59525012" class="NumberedList" value="5"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Host头处理</strong></span><span class="SemanticString"> : HTTP/1.1在请求头中加入了</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">Host</code></span><span class="SemanticString">字段。</span></span></li></ol><h1 id="https://www.notion.so/92054ddcc07641abba8bef0421250c23" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/92054ddcc07641abba8bef0421250c23"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">HTTP 如何保存用户状态?</span></span></h1><div id="https://www.notion.so/b8adea445fdc4f17b9874cf0ffa96744" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">HTTP 是一种不保存状态，即无状态（stateless）协议。也就是说 HTTP 协议自身不对请求和响应之间的通信状态进行保存。那么我们保存用户状态呢？Session 机制的存在就是为了解决这个问题，Session 的主要作用就是通过服务端记录用户的状态。典型的场景是购物车，当你要添加商品到购物车的时候，系统不知道是哪个用户操作的，因为 HTTP 协议是无状态的。服务端给特定的用户创建特定的 Session 之后就可以标识这个用户并且跟踪这个用户了（一般情况下，服务器会在一定时间内保存这个 Session，过了时间限制，就会销毁这个 Session）。</span></span></p></div><div id="https://www.notion.so/679a7f8672fc41058c1ef0bb810e527b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在服务端保存 Session 的方法很多，最常用的就是内存和数据库(比如是使用内存数据库 redis 保存)。既然 Session 存放在服务器端，那么我们如何实现 Session 跟踪呢？大部分情况下，我们都是通过在 Cookie 中附加一个 Session ID 来方式来跟踪。</span></span></p></div><div id="https://www.notion.so/ef330d62e38141c68dd67277a6194c1a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Cookie 被禁用怎么办?</strong></span></span></p></div><div id="https://www.notion.so/84e9974fd65448929b1bba63d57adec6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">最常用的就是利用 URL 重写把 Session ID 直接附加在 URL 路径的后面。</span></span></p></div><h1 id="https://www.notion.so/ea1232e90ab846f4a1708e4edf7e477d" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/ea1232e90ab846f4a1708e4edf7e477d"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">URI 和 URL 的区别是什么?</span></span></h1><ul class="BulletedListWrapper"><li id="https://www.notion.so/16be23fa83c844799972ba2cd0cb3e6e" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">URI(Uniform Resource Identifier) 是统一资源标志符，可以唯一标识一个资源。</span></span></li><li id="https://www.notion.so/1f61abc8be2744b9a087e521dba0a956" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">URL(Uniform Resource Locator) 是统一资源定位符，可以提供该资源的路径。它是一种具体的 URI，即 URL 可以用来标识一个资源，而且还指明了如何 locate 这个资源。</span></span></li></ul><div id="https://www.notion.so/a58387cd94cc4a5889c628817c435c39" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">URI 的作用像身份证号一样，URL 的作用更像家庭住址一样。URL 是一种具体的 URI，它不仅唯一标识资源，而且还提供了定位该资源的信息。</span></span></p></div><div id="https://www.notion.so/78c312932c3d4739b43f79ac3959e00e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></article>
    <script src="https://utteranc.es/client.js"
        repo="youthtoday/youthtoday.github.io"
        issue-term="pathname"
        label="✨"
        theme="github-light"
        crossorigin="anonymous"
        async>
    </script>
  <footer class="Footer">
  <div>&copy; Nick的博客 2022</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>
